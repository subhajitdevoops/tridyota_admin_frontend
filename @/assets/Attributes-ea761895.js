import{j as e,x as v,y as l,L as q,r as f,S as H}from"./index-bf82c2d2.js";import{T,l as z,D as K,d as C,e as D,M as S,s as w,f as $,g as _,E as G,u as J,P as Q,h as W,i as X,A as Y}from"./Layout-175bf00a.js";import{C as k,S as Z,B as ee}from"./BulkActionDrawer-e925344e.js";import{L as u,E as N}from"./index.esm-47afe3d2.js";import{I as A}from"./InputArea-3fddad50.js";import{u as le}from"./useAttributeSubmit-db9e7998.js";import{U as se}from"./UploadManyTwo-e37037ed.js";import{T as ae}from"./TableLoading-800c8975.js";import{N as te}from"./NotFound-90d3264e.js";import{u as re}from"./useFilter-ec5bd7bd.js";import"./iconBase-d3779ff1.js";import"./exportFromJSON-59a1cb7c.js";import"./dayjs.min-61f3a08c.js";import"./xlsx-04f2268f.js";const ie=({notes:n,addNote:i,removeNote:d})=>e.jsxs("div",{className:"react-tag-input",children:[e.jsx("ul",{id:"tags",children:n.map((t,o)=>e.jsxs("li",{className:"react-tag-input__tag",children:[e.jsx("span",{className:"tag-title react-tag-input__tag__content",children:t}),e.jsx("span",{className:"react-tag-input__tag__remove",onClick:()=>d(o)})]},o))}),e.jsx("input",{name:"note",className:"react-tag-input__input",type:"text",onBlur:t=>i(t),onKeyDown:t=>t.key==="Enter"?i(t):null,placeholder:"Press enter to add variant"})]}),B=({id:n})=>{const{handleSubmit:i,onSubmit:d,register:t,errors:o,variants:c,addVariant:x,isSubmitting:m,removeVariant:r,handleSelectLanguage:s}=le(n),{t:a}=v();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:n?e.jsx(T,{register:t,handleSelectLanguage:s,title:a("UpdateAttribute"),description:a("UpdateAttributeDesc")}):e.jsx(T,{register:t,handleSelectLanguage:s,title:a("AddAttribute"),description:a("AddAttributeDesc")})}),e.jsxs(z.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:[e.jsxs("form",{onSubmit:i(d),children:[e.jsxs("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(u,{label:a("DrawerAttributeTitle")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(A,{register:t,label:"Attribute Title",name:"title",type:"text",placeholder:"Color or Size or Dimension or Material or Fabric"}),e.jsx(N,{errorName:o.title})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 relative",children:[e.jsx(u,{label:a("DisplayName")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(A,{register:t,label:"Display Name",name:"name",type:"text",placeholder:"Display Name"}),e.jsx(N,{errorName:o.name})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 relative",children:[e.jsx(u,{label:a("DrawerOptions")}),e.jsxs("div",{className:"col-span-8 sm:col-span-4 ",children:[e.jsxs(l.Select,{className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white",name:"option",...t("option",{required:"Option is required!"}),children:[e.jsx("option",{value:"",defaultValue:!0,hidden:!0,children:a("DrawerSelecttype")}),e.jsx("option",{value:"Dropdown",children:a("Dropdown")}),e.jsx("option",{value:"Radio",children:a("Radio")})]}),e.jsx(N,{errorName:o.option})]})]})]}),e.jsx(K,{id:n,title:"Attribute",isSubmitting:m})]}),e.jsx("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full pb-40 ",children:!n&&e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 relative",children:[e.jsx(u,{label:a("Variants")}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(ie,{notes:c,addNote:x,removeNote:r})})]})})]})]})},ne=({lang:n,isCheck:i,setIsCheck:d,attributes:t})=>{const{title:o,serviceId:c,handleModalOpen:x,handleUpdate:m}=C(),r=s=>{const{id:a,checked:j}=s.target;d([...i,a]),j||d(i.filter(h=>h!==a))};return e.jsxs(e.Fragment,{children:[i.length<1&&e.jsx(D,{id:c,title:o}),i.length<2&&e.jsx(S,{children:e.jsx(B,{id:c})}),e.jsx(l.TableBody,{children:t==null?void 0:t.map(s=>{var a;return e.jsxs(l.TableRow,{children:[e.jsx(l.TableCell,{children:e.jsx(k,{type:"checkbox",name:"attribute",id:s._id,handleClick:r,isChecked:i==null?void 0:i.includes(s._id)})}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:(a=s==null?void 0:s._id)==null?void 0:a.substring(20,24)}),e.jsx(l.TableCell,{className:"font-medium text-sm",children:w(s.title,n)}),e.jsx(l.TableCell,{className:"font-medium text-sm",children:w(s.name,n)}),e.jsx(l.TableCell,{className:"font-medium text-sm",children:s.option}),e.jsx(l.TableCell,{className:"text-center",children:e.jsx(Z,{id:s._id,status:s.status})}),e.jsx(l.TableCell,{className:"flex justify-center",children:e.jsx(q,{to:`/attributes/${s._id}`,className:"p-2 cursor-pointer text-gray-400 hover:text-green-600 focus:outline-none",children:e.jsx($,{id:"edit values",Icon:_,title:"Edit Values",bgColor:"#10B981"})})}),e.jsx(l.TableCell,{children:e.jsx(G,{id:s._id,isCheck:i,setIsCheck:d,handleUpdate:m,handleModalOpen:x,title:w(s.title,n)})})]},s._id)})})]})},ye=()=>{const{toggleDrawer:n,lang:i}=f.useContext(H),{data:d,loading:t,error:o}=J(()=>Y.getAllAttributes({type:"attribute",option:"Dropdown",option1:"Radio"})),{handleDeleteMany:c,allId:x,handleUpdateMany:m}=C(),{t:r}=v(),{filename:s,isDisabled:a,dataTable:j,serviceData:h,totalResults:F,attributeRef:E,resultsPerPage:P,handleSelectFile:M,handleChangePage:I,handleSubmitAttribute:y,handleUploadMultiple:R,handleRemoveSelectFile:U}=re(d),[b,L]=f.useState(!1),[g,p]=f.useState([]),V=()=>{L(!b),p(d.map(O=>O._id)),b&&p([])};return e.jsxs(e.Fragment,{children:[e.jsx(Q,{children:r("AttributeTitle")}),e.jsx(D,{ids:x,setIsCheck:p,title:"Selected Attributes"}),e.jsx(ee,{ids:x,title:"Attributes"}),e.jsx(S,{children:e.jsx(B,{})}),e.jsx(l.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:e.jsx(l.CardBody,{children:e.jsxs("form",{onSubmit:y,className:"py-3  grid gap-4 lg:gap-6 xl:gap-6  xl:flex",children:[e.jsx("div",{className:"flex justify-start xl:w-1/2  md:w-full",children:e.jsx(se,{title:"Attribute",exportData:d,filename:s,isDisabled:a,handleSelectFile:M,handleUploadMultiple:R,handleRemoveSelectFile:U})}),e.jsxs("div",{className:"lg:flex  md:flex xl:justify-end xl:w-1/2  md:w-full md:justify-start flex-grow-0",children:[e.jsx("div",{className:"w-full md:w-40 lg:w-40 xl:w-40 mr-3 mb-3 lg:mb-0",children:e.jsxs(l.Button,{disabled:g.length<1,onClick:()=>m(g),className:"w-full rounded-md h-12 btn-gray text-gray-600",children:[e.jsx("span",{className:"mr-2",children:e.jsx(_,{})}),r("BulkAction")]})}),e.jsx("div",{className:"w-full md:w-32 lg:w-32 xl:w-32 mr-3 mb-3 lg:mb-0",children:e.jsxs(l.Button,{disabled:g.length<1,onClick:()=>c(g),className:"w-full rounded-md h-12 bg-red-500 btn-red",children:[e.jsx("span",{className:"mr-2",children:e.jsx(W,{})}),r("Delete")]})}),e.jsx("div",{className:"w-full md:w-48 lg:w-48 xl:w-48",children:e.jsxs(l.Button,{onClick:n,className:"w-full rounded-md h-12 ",children:[e.jsx("span",{className:"mr-2",children:e.jsx(X,{})}),r("CouponsAddAttributeBtn")]})})]})]})})}),e.jsx(l.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:e.jsx(l.CardBody,{children:e.jsx("form",{onSubmit:y,className:"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex",children:e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx(l.Input,{ref:E,type:"search",className:"border h-12 text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white",placeholder:r("SearchAttributePlaceholder")})})})})}),t?e.jsx(ae,{row:12,col:6,width:180,height:20}):o?e.jsx("span",{className:"text-center mx-auto text-red-500",children:o}):(h==null?void 0:h.length)!==0?e.jsxs(l.TableContainer,{className:"mb-8",children:[e.jsxs(l.Table,{children:[e.jsx(l.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(l.TableCell,{children:e.jsx(k,{type:"checkbox",name:"selectAll",id:"selectAll",handleClick:V,isChecked:b})}),e.jsxs(l.TableCell,{children:[" ",r("Id")," "]}),e.jsxs(l.TableCell,{children:[" ",r("AName")]}),e.jsxs(l.TableCell,{children:[" ",r("ADisplayName")]}),e.jsx(l.TableCell,{children:r("AOption")}),e.jsx(l.TableCell,{className:"text-center",children:r("catPublishedTbl")}),e.jsx(l.TableCell,{className:"text-center",children:r("Avalues")}),e.jsx(l.TableCell,{className:"text-right",children:r("AAction")})]})}),e.jsx(ne,{lang:i,isCheck:g,setIsCheck:p,attributes:j})]}),e.jsx(l.TableFooter,{children:e.jsx(l.Pagination,{totalResults:F,resultsPerPage:P,onChange:I,label:"Table navigation"})})]}):e.jsx(te,{title:"Sorry, There are no attributes right now."})]})};export{ye as default};
