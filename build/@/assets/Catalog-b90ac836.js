import{r as d,S as J,j as e,y as s,x as K}from"./index-bf82c2d2.js";import{y as Z,d as Q,e as Y,E as $,s as ee,T as ae,U as O,z as W,P as se,M as le}from"./Layout-175bf00a.js";import{u as X,n as P,b as H,L as n,E as z}from"./index.esm-47afe3d2.js";import"./iconBase-d3779ff1.js";import"./InputArea-3fddad50.js";const re=()=>{const{register:g,handleSubmit:o,setValue:r,clearErrors:t,formState:{errors:y}}=X(),{toggleDrawer:m,isDrawerOpen:w,currentPage:v,limitData:b,toggleModal:h,toggleBulkDrawer:l,taxEdit:D,setTaxEdit:G}=d.useContext(J),[c,k]=d.useState([]),[u,f]=d.useState(""),[x,p]=d.useState(""),[C,I]=d.useState([]),[B,_]=d.useState(""),[T,S]=d.useState(""),[U,F]=d.useState("");console.log("shipping details",{brandIcon:c,brandName:u,dec:x,brandFile:C});const A=a=>{r("brandName",a),f(a)},L=a=>{r("description",a.toLowerCase().replace(/[^A-Z0-9]+/gi,"-")),p(a.toLowerCase().replace(/[^A-Z0-9]+/gi,"-"))},M=()=>{let a=0;c.length===0&&(a=a+1,P("Please select Icon.")),u.trim().length==0&&(a=a+1,P("Please enter shipping method.")),C.length===0&&(a=a+1,P("Please select Icon.")),a===0&&E()},E=()=>{let a={id:B||"",brandName:u,brandLogo:c&&c[0],description:x,file:C&&C[0]};Z.postCatalog(a).then(i=>{(i==null?void 0:i.success)===!0?(H(i.message),B&&m(),r("brandName",""),f(""),r("description",""),p(""),k([]),t("brandName"),t("description"),j()):P(i.message)})},V=()=>{setTaxName(""),setTaxAmount(""),r("taxAmount",""),r("taxName",""),setTaxType("PERCENTAGE (%)"),t("taxAmount"),t("taxName")},q=a=>{m(),[...T].forEach((N,ne)=>{N._id===a&&(r("brandName",N.brandName),f(N.brandName),r("description",N.description),p(N.description),k([N.brandLogo]),I([N.file]),_(a))})},R=()=>{setTaxName(""),setTaxAmount(""),r("taxAmount",""),r("taxName",""),setTaxType("PERCENTAGE (%)"),t("taxAmount"),t("taxName"),m()},j=()=>{Z.getCatalog({page:v,limit:b}).then(a=>{(a==null?void 0:a.success)===!0?(H(a==null?void 0:a.message),S(a==null?void 0:a.brandCatalogDetailsdData),F(a==null?void 0:a.Pagination)):P(a.message)})};return{register:g,handleSubmit:o,setValue:r,clearErrors:t,errors:y,onSubmit:M,handleCancel:V,handleUpdate:q,cancelUpdate:R,validation:E,catalogPage:U,brandName:u,brandIcon:c,setBrandIcon:k,dec:x,brandFile:C,getAllList:T,setBrandFile:I,handleDec:L,handleBrandName:A,getCatalogDetails:j}},te=({getAllList:g,isCheck:o,setIsCheck:r,currency:t,lang:y,handleUpdate:m,getCatalogDetails:w})=>{const{title:v,serviceId:b,handleModalOpen:h}=Q();return e.jsxs(e.Fragment,{children:[(o==null?void 0:o.length)<1&&e.jsx(Y,{id:b,title:v,setIsCheck:r,fetchData:w}),e.jsx(s.TableBody,{children:g==null?void 0:g.map((l,D)=>e.jsxs(s.TableRow,{children:[e.jsx(s.TableCell,{children:e.jsxs("div",{className:"flex items-center",children:[l!=null&&l.brandLogo?e.jsx(s.Avatar,{className:"hidden p-1 mr-2 md:block bg-gray-50 shadow-none",src:l==null?void 0:l.brandLogo,alt:"product"}):e.jsx(s.Avatar,{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"product"}),e.jsx("div",{children:e.jsx("h2",{className:"text-sm font-medium",children:l==null?void 0:l.brandName})})]})}),e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:l==null?void 0:l.description})}),e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:l==null?void 0:l.file})}),e.jsx(s.TableCell,{children:e.jsx($,{id:l._id,Product:l,isCheck:o,handleUpdate:m,handleModalOpen:h,title:ee(l==null?void 0:l.brandName,y)})})]},D))})]})},de=({id:g,isSubmitting:o,cancelUpdate:r,brandName:t,handleBrandName:y,brandIcon:m,setBrandIcon:w,dec:v,handleDec:b,brandFile:h,setBrandFile:l,UpdateCatalogData:D})=>{const{t:G}=K(),{register:c,handleSubmit:k,setValue:u,clearErrors:f,formState:{errors:x}}=X();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" h-full flex flex-col gap-6 dark:bg-gray-800 mb-5",children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:e.jsx(ae,{register:c,title:"Update Catalog",description:" Please provide correct information !"})}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Brand Name"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(s.Input,{...c("brandName",{required:"Brand Name is required!"}),className:"border h-12 text-sm focus:outline-none block w-full   dark:bg-gray-700 border-transparent ",name:"brandName",type:"text",defaultValue:t,placeholder:"Enter Brand Name.",onBlur:p=>y(p.target.value)}),e.jsx(z,{errorName:x.brandName})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Brand Logo"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(O,{product:!0,folder:"product",imageUrl:m,setImageUrl:w})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Description"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(s.Textarea,{className:"border text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white",...c("description",{required:!1}),name:"description",placeholder:"Brand Description",rows:"4",spellCheck:"false",defaultValue:v,onBlur:p=>b(p.target.value)}),e.jsx(z,{errorName:x.description})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"File"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsxs("label",{htmlFor:"filesss",className:"flex justify-items-center items-center border text-sm focus:outline-none cursor-pointer block w-ful border-transparent focus:bg-whit p-1 rounded-md bg-gray-200  dark:text-primaryOn dark:bg-bgBlack ",children:[" ",e.jsx(W,{className:"text-4xl"})," select file"]}),e.jsx("input",{id:"filesss",type:"file",accept:".pdf,.docx,.xlsx"})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Brand Logo"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(O,{product:!0,pdf:!0,pdfName:h&&h[0],folder:"product",imageUrl:h,setImageUrl:l})})]})]}),e.jsx("div",{className:" z-10  w-full py-4 lg:py-8 px-6 grid gap-4 lg:gap-6 xl:gap-6 bg-gray-50 border-t border-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{}),e.jsxs("div",{className:"col-span-8 sm:col-span-4 flex gap-1 justify-between w-full",children:[e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx(s.Button,{onClick:()=>r(),className:"h-12 bg-white w-full text-red-500 hover:bg-red-50 hover:border-red-100 hover:text-red-600 dark:bg-gray-700 dark:border-gray-700 dark:text-gray-500 dark:hover:bg-gray-800 dark:hover:text-red-700",layout:"outline",children:"Cancel"})}),e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow flex-row",children:o?e.jsxs(s.Button,{disabled:!0,type:"button",className:"w-full h-12",children:[e.jsx("img",{src:spinnerLoadingImage,alt:"Loading",width:20,height:10})," ",e.jsx("span",{className:"font-serif ml-2 font-light",children:"Processing"})]}):e.jsx(s.Button,{type:"submit",className:"w-full h-12",onClick:()=>D(),children:g?e.jsx("span",{children:G("UpdateBtn")}):e.jsx("span",{children:"Update"})})})]})]})})]})})},pe=({id:g})=>{const{title:o,allId:r,serviceId:t,handleDeleteMany:y,handleUpdateMany:m}=Q(),{t:w}=K(),{toggleDrawer:v,lang:b,currentPage:h,handleChangePage:l,searchText:D,category:G,sortedField:c,limitData:k}=d.useContext(J),{register:u,errors:f,isSubmitting:x,onSubmit:p,handleCancel:C,handleUpdate:I,cancelUpdate:B,validation:_,catalogPage:T,brandName:S,brandIcon:U,setBrandIcon:F,dec:A,getAllList:L,brandFile:M,setBrandFile:E,handleBrandName:V,handleDec:q,getCatalogDetails:R}=re();d.useState(!1);const[j,a]=d.useState([]);return d.useEffect(()=>{R()},[]),e.jsxs(e.Fragment,{children:[e.jsx(se,{children:"Catalog Details"}),e.jsx(le,{children:e.jsx(de,{id:t,isSubmitting:x,brandName:S,UpdateCatalogData:_,cancelUpdate:B,handleBrandName:V,brandIcon:U,setBrandIcon:F,dec:A,handleDec:q,brandFile:M,setBrandFile:E})}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Brand Name"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(s.Input,{...u("brandName",{required:"Brand Name is required!"}),className:"border h-12 text-sm focus:outline-none block w-full   dark:bg-gray-700 border-transparent ",name:"brandName",type:"text",defaultValue:S,placeholder:"Enter Brand Name.",onBlur:i=>V(i.target.value)}),e.jsx(z,{errorName:f.brandName})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Brand Logo"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(O,{product:!0,folder:"product",imageUrl:U,setImageUrl:F})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Description"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(s.Textarea,{className:"border text-sm focus:outline-none block w-full bg-gray-100 border-transparent focus:bg-white",...u("description",{required:!1}),name:"description",placeholder:"Brand Description",rows:"4",spellCheck:"false",defaultValue:A,onBlur:i=>q(i.target.value)}),e.jsx(z,{errorName:f.description})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"File"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsxs("label",{htmlFor:"filesss",className:"flex justify-items-center items-center border text-sm focus:outline-none cursor-pointer block w-ful border-transparent focus:bg-whit p-1 rounded-md bg-gray-200  dark:text-primaryOn dark:bg-bgBlack ",children:[" ",e.jsx(W,{className:"text-4xl"})," select file"]}),e.jsx("input",{id:"filesss",type:"file",accept:".pdf,.docx,.xlsx"})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{label:"Brand Logo"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(O,{product:!0,pdf:!0,pdfName:"name",folder:"product",imageUrl:M,setImageUrl:E})})]}),e.jsx("div",{className:" z-10  w-full py-4 lg:py-8 px-6 grid gap-4 lg:gap-6 xl:gap-6 bg-gray-50 border-t border-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(n,{}),e.jsxs("div",{className:"col-span-8 sm:col-span-4 flex gap-1 justify-between w-full",children:[e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx(s.Button,{onClick:()=>B(),className:"h-12 bg-white w-full text-red-500 hover:bg-red-50 hover:border-red-100 hover:text-red-600 dark:bg-gray-700 dark:border-gray-700 dark:text-gray-500 dark:hover:bg-gray-800 dark:hover:text-red-700",layout:"outline",children:"Cancel"})}),e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow flex-row",children:x?e.jsxs(s.Button,{disabled:!0,type:"button",className:"w-full h-12",children:[e.jsx("img",{src:spinnerLoadingImage,alt:"Loading",width:20,height:10})," ",e.jsx("span",{className:"font-serif ml-2 font-light",children:"Processing"})]}):e.jsx(s.Button,{type:"submit",className:"w-full h-12",onClick:p,children:g?e.jsxs("span",{children:[w("UpdateBtn")," ",o]}):e.jsxs("span",{children:["ADD ",o]})})})]})]})}),L.length>0&&e.jsxs(s.TableContainer,{className:"mb-8 rounded-b-lg",children:[e.jsxs(s.Table,{children:[e.jsx(s.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(s.TableCell,{children:"Brand Name"}),e.jsx(s.TableCell,{children:"Description"}),e.jsx(s.TableCell,{children:"File "}),e.jsx(s.TableCell,{children:e.jsx("button",{disabled:(j==null?void 0:j.length)>0,className:"p-2 w-full  flex gap-0 items-center justify-end text-base cursor-pointer dark:text-gray-400",children:"Edit/Delete"})})]})}),e.jsx(te,{lang:b,isCheck:j,getAllList:L,setIsCheck:a,handleUpdate:I,getCatalogDetails:R})]}),e.jsx(s.TableFooter,{children:e.jsx(s.Pagination,{totalResults:T==null?void 0:T.TotalPages,resultsPerPage:k,onChange:l,label:"Product Page Navigation"})})]})]})};export{pe as default};
