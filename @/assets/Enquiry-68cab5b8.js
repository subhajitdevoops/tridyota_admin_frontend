import{r,S as y,j as e,y as s,x as q}from"./index-bf82c2d2.js";import{r as x,u as E,b as S,n as N}from"./index.esm-47afe3d2.js";import{d as P,e as v,B as D,P as w}from"./Layout-175bf00a.js";import"./iconBase-d3779ff1.js";import"./InputArea-3fddad50.js";const B={getEnquiry:async({page:l,limit:a})=>x.get(`/productRequest?page=${l}&limit=${a}`),postEnquiryStatus:async l=>x.post("/productRequest/statuschange",l),getEnquiryById:async l=>x.get(`shippingmethodbyid?id=${l}`),deleteEnquiry:async l=>x.delete(`/shipping/deleteshippingmethod/${l}`)},R=()=>{const{register:l,handleSubmit:a,setValue:c,clearErrors:u,formState:{errors:o}}=E(),{toggleDrawer:m,isDrawerOpen:p,currentPage:g,toggleModal:h,limitData:d,toggleBulkDrawer:t,taxEdit:i,setTaxEdit:C}=r.useContext(y),[T,j]=r.useState("");r.useState([]);const[b,f]=r.useState("");return{EnquiryData:[{id:1,productName:"bulb",quantity:2,requestedBY:"Rahul",contact:98e8,message:"i did'n get my product",status:""},{id:2,productName:"light",quantity:3,requestedBY:"Rahul",contact:98e8,message:"i did'n get my product",status:""},{id:3,productName:"fan",quantity:4,requestedBY:"Rahul",contact:98e8,message:"i did'n get my product",status:""}],handleSearchMethod:n=>{c("shippingCharges",n.toLowerCase().replace(/[^A-Z0-9]+/gi,"-")),j(n.toLowerCase().replace(/[^A-Z0-9]+/gi,"-"))},enquiryPage:b,getEnquiryDetails:()=>{B.getEnquiry({page:g,limit:d}).then(n=>{(n==null?void 0:n.success)===!0?(S(n.message),f(n==null?void 0:n.Pagination)):N(n.message)})}}},M=({id:l,order:a})=>{r.useContext(y);const c=(u,o)=>{};return e.jsx(e.Fragment,{children:e.jsxs(s.Select,{onChange:u=>c(l,u.target.value),className:"border border-gray-50 bg-gray-50 dark:border-gray-700 h-8 rounded-md text-xs focus:border-gray-400 focus:outline-none",children:[e.jsx("option",{value:"status",defaultValue:!0,hidden:!0,children:a==null?void 0:a.status}),e.jsx("option",{defaultValue:(a==null?void 0:a.status)==="Delivered",value:"Delivered",children:"Delivered"}),e.jsx("option",{defaultValue:(a==null?void 0:a.status)==="Pending",value:"Pending",children:"Pending"}),e.jsx("option",{defaultValue:(a==null?void 0:a.status)==="Processing",value:"Processing",children:"Processing"}),e.jsx("option",{defaultValue:(a==null?void 0:a.status)==="Cancel",value:"Cancel",children:"Cancel"})]})})},F=({EnquiryData:l,isCheck:a,setIsCheck:c,currency:u,lang:o,handleUpdate:m,getTaxDetails:p})=>{const{title:g,serviceId:h,handleModalOpen:d}=P();return e.jsxs(e.Fragment,{children:[(a==null?void 0:a.length)<1&&e.jsx(v,{id:h,title:g,fetchData:p}),e.jsx(s.TableBody,{children:l==null?void 0:l.map((t,i)=>e.jsxs(s.TableRow,{children:[e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:t==null?void 0:t.id})}),e.jsx(s.TableCell,{children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{children:e.jsx("h2",{className:"text-sm font-medium",children:t==null?void 0:t.productName})})})}),e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:t==null?void 0:t.quantity})}),e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:t==null?void 0:t.requestedBY})}),e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:t==null?void 0:t.contact})}),e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:t==null?void 0:t.message})}),e.jsx(s.TableCell,{children:e.jsxs("span",{className:"text-sm flex justify-center items-center gap-1 cursor-pointer",children:[" ",e.jsx(D,{})," view more"]})}),e.jsx(s.TableCell,{children:e.jsx(M,{})})]},i+1))})]})},Z=({id:l})=>{q();const{toggleDrawer:a,lang:c,currentPage:u,handleChangePage:o,searchText:m,category:p,sortedField:g,limitData:h}=r.useContext(y),{EnquiryData:d,handleSearchMethod:t,enquiryPage:i,getEnquiryDetails:C}=R();r.useState(!1);const[T,j]=r.useState([]);return r.useEffect(()=>{C()},[]),e.jsxs(e.Fragment,{children:[e.jsx(w,{children:" Enquiry"}),e.jsx("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(s.Input,{className:"border h-12 text-sm focus:outline-none block w-full   dark:bg-gray-700 border-transparent ",name:"shippingMethod",type:"text",defaultValue:"",placeholder:"Search...",onBlur:b=>t(b.target.value)})})}),d.length>0&&e.jsxs(s.TableContainer,{className:"mb-8 rounded-b-lg",children:[e.jsxs(s.Table,{children:[e.jsx(s.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(s.TableCell,{children:"id"}),e.jsx(s.TableCell,{children:"Product Name"}),e.jsx(s.TableCell,{children:"Quantity"}),e.jsx(s.TableCell,{children:"Requested BY"}),e.jsx(s.TableCell,{children:"Contact Number "}),e.jsx(s.TableCell,{children:"Message "}),e.jsx(s.TableCell,{children:"Details "}),e.jsx(s.TableCell,{children:"Status "})]})}),e.jsx(F,{lang:c,isCheck:T,EnquiryData:d,setIsCheck:j})]}),e.jsx(s.TableFooter,{children:e.jsx(s.Pagination,{totalResults:i==null?void 0:i.TotalPages,resultsPerPage:h,onChange:o,label:"Product Page Navigation"})})]})]})};export{Z as default};
